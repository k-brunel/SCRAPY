<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random quotes</title>
    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
</head>
<body>
    <h1>Quotes</h1>
    <div class="d-flex flex-column  container-fluid align-items-center pt-3">
        {% if donnees %}
        <div class="col-sm-12 col-md-6 col-lg-4">
            <div class="border border-secondary rounded d-flex flex-column align-items-center m-2">
                <div class="border-bottom border-secondary w-100 text-center auteurName" style="background-color:#32373a3b;">{{ donnees.auteur }}</div>
                <div class="d-flex justify-content-center p-2" style="height: 8rem; overflow: auto; overflow-x: hidden;"> 
                    <span class="auteurCitation">{{ donnees.citation }}</span>
                </div>
            </div>
        </div>
        {% else %}
        <p>No quote.</p>
        {% endif %}
        <button id="refreshButton" onclick="refreshData()">New quote</button>
    </div>

<script>
    function refreshData() {
        // Faire une requête au serveur Flask pour obtenir une nouvelle citation
        fetch('/refresh')
            .then(response => response.json())
            .then(data => {
                // Mettre à jour les données dans la page
                document.querySelector('.auteurName').innerText = data.auteur;
                document.querySelector('.auteurCitation').innerText = data.citation;
            })
            .catch(error => console.error('Erreur lors du rafraîchissement des données:', error));  
    }
</script>

<style>
    #refreshButton{
        border-radius: 50%;
        height: 7rem;
        width: 7rem;
        box-shadow: 0px 1px 5px darkblue;
        background-color: #33336b12;
        font-style: italic;
        font-family: cursive;
    }
</style>
</body>
</html>
